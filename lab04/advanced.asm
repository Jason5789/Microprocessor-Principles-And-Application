List p=18f4520
	#include<pic18f4520.inc>
        CONFIG OSC = INTIO67
        CONFIG WDT = OFF
        org 0x0

MOVLW 0x04
MOVWF 0x000
MOVLW 0x02
MOVWF 0x001
MOVLW 0x04
MOVWF 0x002
MOVLW 0x03
MOVWF 0x010
MOVLW 0x02
MOVWF 0x011
MOVLW 0x06
MOVWF 0x012
	
MOVFF 0x001,0x030
MOVFF 0x012,0x031
MOVFF 0x002,0x032
MOVFF 0x011,0x033
rcall cross
MOVFF 0x051,0x020
	
MOVFF 0x002,0x030
MOVFF 0x010,0x031
MOVFF 0x000,0x032
MOVFF 0x012,0x033
rcall cross
MOVFF 0x051,0x021
	
MOVFF 0x000,0x030
MOVFF 0x011,0x031
MOVFF 0x001,0x032
MOVFF 0x010,0x033
rcall cross
MOVFF 0x051,0x022
	
GOTO finish
	
cross:
    CLRF 0x040
    CLRF 0x042
    
    MOVLW 0x7F
    CPFSGT 0x030
	GOTO op1_1ok
    MOVLW 0xFF
    MOVWF 0x004
    MOVF 0x030,w
    SUBWF 0x004,w
    MOVWF 0x030
    INCF 0x030
    INCF 0x040
	
    op1_1ok:
	MOVLW 0x7F
	CPFSGT 0x031
	    GOTO op1_2ok
	MOVLW 0xFF
	MOVWF 0x004
	MOVF 0x031,w
	SUBWF 0x004,w
	MOVWF 0x031
	INCF 0x031
	INCF 0x040

    op1_2ok:
	MOVF 0x030,w
	MULWF 0x031
	MOVFF PRODL,0x050
	BTFSS 0x040,0
	    GOTO op1pos
	    
	MOVLW 0xFF
	MOVWF 0x004
	MOVF 0x050,w
	SUBWF 0x004,w
	MOVWF 0x050
	INCF 0x050
    op1pos:
	MOVLW 0x7F
	CPFSGT 0x032
	    GOTO op2_1ok
	MOVLW 0xFF
	MOVWF 0x004
	MOVF 0x032,w
	SUBWF 0x004,w
	MOVWF 0x032
	INCF 0x032
	INCF 0x042

	op2_1ok:
	    MOVLW 0x7F
	    CPFSGT 0x033
		GOTO op2_2ok
	    MOVLW 0xFF
	    MOVWF 0x004
	    MOVF 0x033,w
	    SUBWF 0x004,w
	    MOVWF 0x033
	    INCF 0x033
	    INCF 0x042

	op2_2ok:
	    MOVF 0x032,w
	    MULWF 0x033
	    MOVFF PRODL,0x051

	    BTFSS 0x042,0
		GOTO op2pos

	    MOVLW 0xFF
	    MOVWF 0x004
	    MOVF 0x051,w
	    SUBWF 0x004,w
	    MOVWF 0x051
	    INCF 0x051

	    op2pos:
		MOVF 0x051,w
		SUBWF 0x050,w
		MOVWF 0x051
	    
    RETURN

finish:
end